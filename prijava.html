<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="shortcut icon" type="image/png" href="/img/favicon-03.png" />

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/prijava.css">
    <link href="https://fonts.googleapis.com/css?family=Alegreya+Sans" rel="stylesheet">
    <title>Prijava</title>
</head>

<body>

    <h1>Prijava za Hakaton</h1>
    <h3>Svaki tim može imati 3 ili 4 člana.</h3>

    <form name="submit-to-google-sheet">
        <button type="button" class="collapsible">Tim</button>
        <div class="content">
            <div class="forma">
                <h2>Naziv tima:</h2>
                <input id="aaa" name="naziv-tima" type="text" class="form-control aaa">
                <h2>Da li ste ranije učestvovali na sličnim takmičenjima? Ako jeste, navedite na kojim i ukratko
                    opišite iskustvo.</h2>
                <textarea id="aaa" name="iskustvo" class="form-control" rows="3"></textarea>
                <h2>Šta vas motiviše da se prijavite za učestvovanje na FON Hakatonu? Opišite svoju
                    motivaciju, očekivanja i zašto baš vaš tim treba da odaberemo.</h2>
                <textarea id="aaa" name="zasto-ste-se-prijavili" class="form-control aaa" rows="4"></textarea>
                <h2>Opišite ključne prednosti i mane vašeg tima:</h2>
                <textarea id="aaa" name="prednost-mana" class="form-control aaa" rows="3"></textarea>
                <h2>Koja situacija bi dovela do toga da vaš tim odustane od takmičenja?</h2>
                <textarea id="aaa" name="kako-ste-saznali" class="form-control aaa" rows="3"></textarea>
                <h2>Na drajv ubacite CV svakog clana tima i unesite link tog drajva (google drive, onedrive i sl.) u naredno polje.</h2>
                <input name="link-za-cv" type="text" class="form-control aaa">
            </div>
        </div><br><br>

        <button type="button" class="collapsible">Prvi član</button>
        <div class="content">
            <div class="forma">
                <h2>Ime i prezime</h2>
                <input id="aaa" name="ime-prezime1" type="text" class="form-control aaa">
                <h2>E-mail</h2>
                <input id="aaa" name="email1" type="text" class="form-control aaa">
                <h2>Telefon</h2>
                <input id="aaa" name="telefon1" type="tel" class="form-control aaa">
                <h2>Fakultet/Srednja škola</h2>
                <input id="aaa" name="faks/skola1" type="text" class="form-control aaa">
                <h2>Godina studija/razred</h2>
                <input id="aaa" name="godina1" type="number" class="form-control aaa">
            </div>
        </div><br><br>

        <button type="button" class="collapsible">Drug član</button>
        <div class="content">
            <div class="forma">
                <h2>Ime i prezime</h2>
                <input id="aaa" name="ime-prezime2" type="text" class="form-control aaa">
                <h2>E-mail</h2>
                <input id="aaa" name="email2" type="text" class="form-control aaa">
                <h2>Telefon</h2>
                <input id="aaa" name="telefon2" type="tel" class="form-control aaa">
                <h2>Fakultet/Srednja škola</h2>
                <input id="aaa" name="faks/skola2" type="text" class="form-control aaa">
                <h2>Godina studija/razred</h2>
                <input name="godina2" type="number" class="form-control aaa">
            </div>
        </div><br><br>

        <button type="button" class="collapsible">Treći član</button>
        <div class="content">
            <div class="forma">
                <h2>Ime i prezime</h2>
                <input id="aaa" name="ime-prezime3" type="text" class="form-control aaa">
                <h2>E-mail</h2>
                <input id="aaa" name="email3" type="text" class="form-control aaa">
                <h2>Telefon</h2>
                <input id="aaa" name="telefon3" type="tel" class="form-control aaa">
                <h2>Fakultet/Srednja škola</h2>
                <input id="aaa" name="faks/skola3" type="text" class="form-control aaa">
                <h2>Godina studija/razred</h2>
                <input id="aaa" name="godina3" type="number" class="form-control aaa">
            </div>
        </div><br><br>

        <button type="button" class="collapsible">Četvrti član</button>
        <div class="content">
            <div class="forma">
                <h2>Ime i prezime</h2>
                <input name="ime-prezime4" type="text" class="form-control bbb">
                <h2>E-mail</h2>
                <input name="email4" type="text" class="form-control bbb">
                <h2>Telefon</h2>
                <input name="telefon4" type="tel" class="form-control bbb">
                <h2>Fakultet/Srednja škola</h2>
                <input name="faks/skola4" type="text" class="form-control bbb">
                <h2>Godina studija/razred</h2>
                <input name="godina4" type="number" class="form-control bbb">
            </div>
        </div><br><br>

        <h4>Svi članovi tima prihvataju da se njihovi podaci čuvaju u internoj bazi projekta.</h4>
        <button id="dugme" type="submit" class="form-control submit" onclick="prijava();">POTVRDI</button>
        <h1 id="potvrda"></h1>
        <br><br>

    </form>
    <script src="sweetalert2.all.min.js"></script>
    <!-- Optional: include a polyfill for ES6 Promises for IE11 and Android browser -->
    <script src="https://cdn.jsdelivr.net/npm/promise-polyfill"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@8"></script>

    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="js/prijava.js"></script>
    <script>

        function potvrda() {
            const scriptURL = 'https://script.google.com/macros/s/AKfycbxgH_Xq8de0HcJXcIGQgc8PqAEDzfhfFnNWLrZrLLU_c_zkAV9A/exec'
            const form = document.forms['submit-to-google-sheet']
            form.addEventListener("submit", e => {
                e.preventDefault()
                fetch(scriptURL, { method: 'POST', body: new FormData(form) })
                    .then(response => console.log('Success!', response))
                    .catch(error => console.error('Error!', error.message))
            })
        }

        function prijava() {
            var gotovo = true;
            var list = document.querySelectorAll('.aaa');
            for (var element of list) {
                if (element.value == "") {
                    gotovo = false;
                    break;
                }
            }
            if (gotovo) {
                potvrda();
                document.getElementById('dugme').style.display = 'none'

                Swal.fire({
                    text: 'Uspešno ste se prijavili!',
                    type: 'success',
                    confirmButtonText: 'Ok'
                })
            }
            else {
                event.preventDefault();

                Swal.fire({
                    text: 'Niste popunili sva polja!',
                    type: 'error',
                    confirmButtonText: 'Ok'
                })

            }
        }

    </script>

</body>

</html>